!function(){function n(n,e){function o(e,o){n.forEach(["bind","update","unbind"],function(n){var t=e[n];e[n]=function(){return o[n].apply(this,arguments),t.apply(this,arguments)}})}function t(n){return n.__v_frag}function r(n){return!n||n.forId?n:r(n.parentFrag)}function i(n){return r(t(n))}function a(n){var e=i(n);return e.scope.element}function c(n){n.parentElement.removeChild(n)}function l(n,e,o){o<n.children.length?n.insertBefore(e,n.children[o]):n.appendChild(e)}function u(n){return n.map(i).filter(function(n){return!!n}).map(function(n){return n.scope.$index}).value()}var d={install:function(r){var i=r.directive("for"),d=n.clone(i);d.params=d.params.concat("root","options"),o(d,{bind:function(){function o(n,e,o){var t=r[e],i=r[o];n&&n.splice(t,0,n.splice(i,1)[0])}var r,i=this,d=this.params.options;d=n.isString(d)?JSON.parse(d):d,d=n.merge(d,{onStart:function(e){r=u(n.chain(e.from.children))},onUpdate:function(n){o(i.collection,n.newIndex,n.oldIndex)},onAdd:function(e){if(r=u(n.chain(e.to.children).filter(function(n){return n!==e.item})),console.log(r),i.collection){var o=a(e.item),t=r.length;if(e.newIndex>=t)i.collection.push(o);else{var c=r[e.newIndex];i.collection.splice(c,0,o)}}},onRemove:function(n){var e=i.collection;if(e&&!n.clone){var o=r[n.oldIndex];e.splice(o,1)}if(n.clone)c(n.clone),l(n.from,n.item,n.oldIndex);else{var a=n.item;t(a).parentFrag&&c(a)}}});var f=this.params.root?document.getElementById(this.params.root):this.el.parentElement;this._sortable=new e(f,d)},update:function(n){if(n&&!Array.isArray(n))throw new Error("should received an Array");this.collection=n},unbind:function(){this._sortable.destroy()}}),r.directive("dragable-for",d)}};return d}if("object"==typeof exports){var e=require("lodash"),o=require("Sortablejs");module.exports=n(e,o)}else"function"==typeof define&&define.amd?define(["lodash","Sortable"],function(e,o){return n(e,o)}):window.Vue&&window._&&window.Sortable&&(window.vueDragFor=n(window._,window.Sortable),Vue.use(window.vueDragFor))}();